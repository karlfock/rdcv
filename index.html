<!doctype html>
<html ng-app>

<head>
    <meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
    <title>CV</title>
    <link rel='stylesheet' href='app/css/cv.css'>
</head>

<body ng-controller='CvCtrl as cv'>

    <div ng-show='cv.editMode'>
        <form>
            <div ng-repeat='(key, value) in cv.sectionCopy'>
                <textarea ng-model='cv.sectionCopy[key]' rows="20" cols="50"></textarea>
            </div>

            <button ng-click="cv.updateSection()">Update</button>
            <button ng-click="cv.deleteSection()">Delete</button>
        </form>

        <div>
            <label>time:</label>
            <input type='text' ng-model='cv.newSection.time' />
            <label>text:</label>
            <input type='text' ng-model='cv.newSection.text' />
            <button ng-click='cv.createSection()'>Create section</button>
        </div>
    </div>

    <button ng-click='cv.toggleEdit()'>{{cv.changeMode}}</button>

    <div ng-repeat='section in cv.profile.sections' ng-click='cv.selectSection(section, $index)'>
        {{section.time}}
        <br>{{section.text}}
    </div>



    <script data-main='app/js/main' src='/bower_components/requirejs/require.js'></script>
</body>

</html>